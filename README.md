# 음성 분석 웹 애플리케이션

이 웹 애플리케이션은 사용자가 5도 스케일을 선택하고 음성을 녹음한 후, AI 모델을 사용하여 음성 품질을 분석하고 피드백을 제공합니다.

## 기능

1. 5도 스케일 선택 및 재생
2. 음성 녹음 기능
3. 녹음된 음성 AI 분석
4. 분석 결과 시각화 및 피드백 제공

## 설치 및 실행

1. 요구 사항 설치:
```bash
pip install -r requirements.txt
```

2. 스케일 오디오 파일 준비:
   - `static/scales/` 디렉토리에 WAV 또는 MP3 형식의 5도 스케일 오디오 파일을 추가합니다.
   - 예: c_scale.wav, d_scale.wav, e_scale.wav 등

3. 모델 파일 준비:
   - 학습된 음성 분석 모델 파일 `best_voice_model.pt`를 `models/` 디렉토리에 넣습니다.
   - 모델 파일이 없는 경우, 애플리케이션은 테스트 모드로 실행됩니다.

4. 서버 실행:
```bash
python app.py
```

5. 웹 브라우저에서 다음 주소로 접속:
```
http://localhost:5000
```

## 프로젝트 구조

```
voice_analysis_web/
├── app.py                  # Flask 서버 애플리케이션
├── requirements.txt        # 필요한 패키지 목록
├── README.md               # 프로젝트 설명서
├── models/                 # 학습된 AI 모델 디렉토리
│   └── best_voice_model.pt # 음성 분석 모델 파일
├── inference/              # 추론 관련 코드
│   ├── __init__.py
│   ├── speech_analysis.py          # 음성 분석 모듈
│   └── speech_analysis_model.py    # 음성 분석 모델 정의
├── static/                 # 정적 파일
│   ├── css/                # 스타일시트
│   │   ├── style.css
│   │   └── feedback.css
│   ├── js/                 # JavaScript 파일
│   │   ├── main.js
│   │   ├── recorder.js
│   │   ├── scales.js
│   │   └── feedback.js
│   ├── scales/             # 5도 스케일 오디오 파일
│   └── uploads/            # 녹음된 오디오 임시 저장소
└── templates/              # HTML 템플릿
    ├── index.html          # 메인 페이지
    └── feedback.html       # 피드백 페이지
```

## 사용 방법

1. 메인 페이지에서 5도 스케일을 선택하고 "스케일 재생" 버튼을 클릭하여 들어봅니다.
2. "녹음 시작" 버튼을 클릭하여 음성 녹음을 시작합니다.
3. 선택한 스케일을 따라 노래하거나 발성한 후 "녹음 종료" 버튼을 클릭합니다.
4. "분석 시작" 버튼을 클릭하여 AI 모델이 녹음된 음성을 분석하도록 합니다.
5. 분석이 완료되면 "피드백 보기" 버튼을 클릭하여 결과를 확인합니다.
6. 피드백 페이지에서 종합 평가와 시간별 세그먼트 분석 결과를 확인할 수 있습니다.

## 모델 정보

이 애플리케이션은 음성 분석을 위한 학습된 모델을 사용합니다. 모델은 다음 요소를 분석합니다:

- **성대 진동 (Vocal Cord)**: 성대가 소리를 내는 방식
- **접촉 (Contact)**: 성대의 접촉 정도
- **후두 위치 (Larynx)**: 발성 시 후두의 위치
- **발성 강도 (Strength)**: 발성의 강도와 에너지

각 요소는 다음과 같은 레이블로 분류됩니다:
- L_L, L_H: 낮은 단계
- M_L, M_H: 중간 단계
- H_L, H_H: 높은 단계

## 피드백 해석

피드백은 각 요소의 분석 결과를 종합하여 음성 품질에 대한 종합적인 평가를 제공합니다. 예를 들어:

- "낮은 음에서 성대를 필요 보다 조금 더 두껍게 진동 시킵니다. 좀 더 가볍게 발성할 필요가 있습니다."
- "높은 음에서 성대가 가볍게 진동하는 느낌은 좋으나, 후두의 상승으로 톤의 변화가 급격하게 발생하기도 합니다."
- "또한 부분적으로 필요 보다 좀 더 가볍게 진동하는 경향도 보입니다."

## 개발자 정보

이 애플리케이션은 음성 트레이닝을 위한 도구로 개발되었습니다. 추가 기능 개발이나 버그 리포트는 GitHub 이슈를 통해 제출해 주세요.
